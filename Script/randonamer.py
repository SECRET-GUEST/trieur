

#          ████████     ██████
#         █░░░░░░░░██_██░░░░░░█
#        █░░░░░░░░░░░█░░░░░░░░░█
#       █░░░░░░░███░░░█░░░░░░░░░█
#       █░░░░███░░░███░█░░░████░█
#     █░░░██░░░░░░░░███░██░░░░██
#    █░░░░░░░░░░░░░░░░░█░░░░░░░░███
#    █░░░░░░░░░░░░░██████░░░░░████░░█
#    █░░░░░░░░░█████░░░████░░██░░██░░█
#   ██░░░░░░░███░░░░░░░░░░█░░░░░░░░███
#  █░░░░░░░░░░░░░░█████████░░█████████
# █░░░░░░░░░░█████ ████   ████ █████ █
# █░░░░░░░░░░█      █ ███   █   ███ █ █
#█░░░░░░░░░░░░█   ████ ████    ██ ████
#░░░░░░░░░░░░░█████████░░░████████░░░█
#░░░░░░░░░░░░░░░░█░░░░░█░░░░░░░░░░░░█
#░░░░░░░░░░░░░░░░░░░░██░░░░█░░░░░░██
#░░░░░░░░░░░░░░░░░░██░░░░░░░███████
#░░░░░░░░░░░░░░░░██░░░░░░░░░░█░░░░░█                                            _____                                 _____                                            _____                                                   _____
#░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█                                          /\    \                               /\    \                                          /\    \                                                 /\    \
#░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█                      ::                 /::\    \                             /::\    \                                        /::\____\                                               /::\____\
#░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█                                        /::::\    \                           /::::\    \           :::         ::           ::: ::/    /                         :                   :: ::/    /
#░░░░░░░░░░░█████████░░░░░░░░░░░░░░██                                       /::::::\    \                         /::::::\    \                               ::: : :::/    /                                              /:::/    /
#░░░░░░░░░░█▒▒▒▒▒▒▒▒███████████████▒▒█                                     /:::/\:::\    \                    :: ::::/\:::\    \                                  /:::/    /                                              /:::/    /
#░░░░░░░░░█▒▒███████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█                                    /:::/__\:::\    \                     /:::/__\:::\    \                                /:::/    /                                            :::: :/____/
#░░░░░░░░░█▒▒▒█▓▓▓▓██████████████████                                    /::::\   \:::\    \                   /::::\   \:::\    \                              /:::/    /                                              /::::\    \
#░░░░░░░░░██▒▒█▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█                                       /::::::\   \:::\    \                 /::::::\   \:::\    \                            /:       /      _____                                   /::::::\    \   _____
#░░░░░░░░░░█▒▒█▓█████████████████ ████                                 /:::/\:::\   \:::\ ___\               /:::/\:::\   \:::\____\                          /:::/____/      /\    \                                 /:::/\:::\    \ /\    \
#░░░░░░░░░░█▒▒██▓▓▒▓▒▓▒▓▒▒▒▒▒▒▒▒▓█▓▒▒▒█                               /:::/__\:::\   \:::|    |             /:::/  \:::\   \:::|    |                         :::|    /      /::\____\                        ::::::: :::/ : :::\    /::\____\
#░░░░░░░░░█▒▒████████▓▒███▓██▒▒▒▒▒▒▒▒▒█                  :            \:::\   \:::\  /:::|____|             \::/   |::::\  /:::|____|                      : :: :|____\     /:::/    /                               \::/    \:::\: ::::/    /
#░░░░░░░░░█▒▒▒▒▒▒▒▒▒█████████████▓█▓██                                 \:::\   \:::\/:::/    /               \/____|:::::\/:::/    /                          \:::\    \   /:::/    /                                 \/____/: :::\/:::/    /
#░░░░░░░░░░████████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█                                  \:::\   \::::::/    /                      |:::::::::/    /                            \:::\   :: : ::/    /                                 :  :  : : :::::::/    /
#░░░░░░░░░░░░░░░░░░██████████████████                                    \:::\   \::::/    /          :  :         |::|\::::/    /           ::                 \:::\    /:::/    /               ::::                          \::       /
#░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█            ::                           \:::\  /:::/    /                      :: ::| \::/____/                                \:::\__/:::/    /                                              /:::/    /
#██░░░░░░░░░░░░░░░░░░░░░░░░░░░██                                           \:::\/:::/    /                         |::|  ~|                                       \::::::::/    /                                             : :::/    /
#▓██░░░░░░░░░░░░░░░░░░░░░░░░██                                              \::::::/    /                          |::|   |                                        \::::::/    /                                              /:::/    /
#▓▓▓███░░░░░░░░░░░░░░░░░░░░█                                                 \::::/    /                           \::|   |                                         \::::/    /                              ::: :           /:::/    /
#▓▓▓▓▓▓███░░░░░░░░░░░░░░░██                                 :                 \::/____/            :                \:|   |               :    ::::                  \::/____/                                               \::/    /
#▓▓▓▓▓▓▓▓▓███████████████▓▓█                                                   ⠋                                     \|___|                                           ⠩                                                      \/____/
#▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██
#▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█                                                                                                                                                                                                                                               |                                                                    |                                      |
#▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█                                                                    |                                                                                                             |
#______________________________                                                                                                                       |                                                                                                                      |                                                                                                                                              |                    |
#___________________________
#_ ______ _____ _________
# /            /                                                         |                                |                       |                    |                |                       |                    |                |                       |                    |                     |                       |                    |
                
#        \                          |                                |                                               |  |                                          |                    |                                          |                       |                    |  |                                           |                    |        |                    |                              |
                

#      |               |                                 |
                
#                  |                                                |            |                                   |                               |                           |                               |                           |                               |                                |                               |
#           |                                  |                                     |
                
#                  |                     |                                                     |                                   |                               |     |                                   |                               |     |                                   |                               |          |                                   |                               |
#   |                          |                       |                    |
#           |                                    |                                         |     |                    |                                    | |     |                    |                                    | |     |                    |                                    |      |     |                                                        |
#      |                        |                                 |      |                                |                       |                    |                |                       |                    |                |                       |                    |                     |                       |                    |
                
#                      |                                                |      |                                   |                               |                         |                               |                         |                               |                              |                               |
#           |                                   |                               |                   |                                |                       |                    |          |                                |                       |                    |          |                                |                       |                    |               |                                |                                        |
                
#                  |                     |
#   |                                |                       |                    |            |                                |                       |                    |     |                                |                       |                    |     |                                |                       |                              |                                |
#           |                               |                                         |                              |                       |                    |                           |                       |                    |                           |                       |                    |                                |                       |                    |
                
#   |         |                                   PRESENTATION                                                |                                |                    |   |                                |                    |   |                                |                    |        |                                |                    |
#                                                                                                                               |                               |     |                                   |                               |     |                                   |                               |          |                                   |                               |
#                |                             /                 \                          |                                                                              |                               |     |                                   |                               |     |                                   |                               |          |                                   |                               |
                
#        |                              Ce petit outils est a destination 
                
#                               d'un plus grand. Il permet de générer des noms                    |                                           |               |                                           |               |                                           |                    |                                           |
                
#                           /                      |    v    |                    \
                
#                       aléatoirement, mais également de renommer à l'aide de ces memes         |                                |                                          |      |                                |                                          |      |                                |                                          |           |                                |
#                                                                                                    |                                                                 |                      |                     |                       |                      |                     |                       |                      |                     |                            |
#                   noms, toutes les images contenues dans les dossiers et sous-dossiers d'un

#              dossier choisi. Ce programme a été construit pdans le cadre d'un logiciel destiné

#             à Nathacha , artiste peintre de l'abstraction, vous pouvez retrouver son travail ici :
#      |                  !      |       https://www.artnathacha.com/     |     |                                |                       |                    |                |                       |                    |                |                       |                    |                    |                                           |
#                                |                                        |     |                  
#                   |            |                   Anyway               !                        |                                         |                                |                       |                    |                |                       |                    |                |                       |                    |                    |
                
#              |                      |                 have                                                 |                        |                                         |                                |                       |                    |                |                       |                    |                |                       |                    |                     |                                           |
                

#                 |                                  FUN         |                        |                                         |                                |                       |                    |                |                       |                    |                |                       |                    |                    |                                                                      |
                
#                                                         =)
                
#
#                                |                      or                                       |                                                            |                    |                |                       |                    |                |                       |                    |                    |                                           |
                

#              |                              |       DIE ! ! !        |                       |                            |                |                       |                    |                |                       |                    |                    |                                           |#      |                        |                                         |                                |
                
#
#                                                     !                                       |                                |                    |  |                                |                    |  |                                |                    |       |                                |                    |
                
#      |               |                                 !
                
#                  |                                                |            |                                   |                               |                           |                               |                           |                               |                                |                               |
#           |                                  !                                     |
                
#                  |                     |                                                     |                                   |                               |     |                                   |                               |     |                                   |                               |          |                                   |                               |
#   |                          |                       |                    !
#           |                                    |                                         |     |                    |                                    | |     |                    |                                    | |     |                    |                                    |      |     |                    |                                    |
#      |                        |                                 |      |                                |                       |                    |                |                       |                    |                |                       |                    |                    |                                           |
                
#                      |                                                |      |                                   |                               |                         |                               |                         |                               |                              |                               |
#           |                                   |                               |                   |                                |                       |                    |          |                                |                       |                    |          |                                |                       |                    |               |                                                                |
                
#                  |                     |
#   |                                |                       |                    |            |                                |                       |                    |     |                                |                       |                    |                                    |                       |                              |                                                                        |
#           |                               |                                         !                              |                       |                    |                           |                       |                    |                           |                       |                    |                                |                       |                    |
                
#_ _  _ ____ ___ ____ _    _    ____ ___ _ ____ _  _
#| |\ | [__   |  |__| |    |    |__|  |  | |  | |\ |
#| | \| ___]  |  |  | |___ |___ |  |  |  | |__| | \|
        
import os,random
from PyQt5.QtWidgets import QApplication, QWidget, QPushButton, QVBoxLayout,QFileDialog, QDialog,QTextEdit



#___  ____ _ _ _ ____ ____    ___  _    ____ _  _ ___
#|__] |  | | | | |___ |__/    |__] |    |__| |\ |  |
#|    |__| |_|_| |___ |  \    |    |___ |  | | \|  |
                

#OPENING | https://www.youtube.com/watch?v=_85LaeTCtV8 :3



#On créer une classe importable (ou pas), lançant les fonctions de renommage aléatoire
class randonaming(QWidget):
    def __init__(self):
        super().__init__()

        #On commence par définir les listes de mots
        self.dic1 = ["amer", "rame", "marée", "armée", "âne", "née", "anée", "réseau", "saoule", "soule", "solue", "récolte", "lecteur", "coulée", "écoulé", "écoute", "caresse", "crasse", "sacre", "séance", "canes", "nacées", "encre", "cerné", "crée", "rééc", "déesse", "déses", "sédés", "flamme", "flemme", "filles", "fils", "lis", "maire", "marie", "aimer", "rampe", "prame", "rampa", "prima", "marine", "ramien", "raiment", "mentir", "trimes", "mitres", "mètres", "mètre"]
        self.dic2 = ["agate", "améthyste", "aventurine", "calcite", "citrine", "cornaline", "cristal", "diamant", "émeraude", "fluorite", "grenat", "hématite", "jade", "jaspe", "labradorite", "lapis-lazuli", "malachite", "moldavite", "obsidienne", "oeil de faucon", "oeil de tigre", "onyx", "opaline", "perle", "pyrite", "quartz", "rhodochrosite", "rhodonite", "rubis", "saphir", "sélénite", "serpentine", "spinelle", "stilbite", "sugilite", "tanzanite", "topaze", "tourmaline", "turquoise", "unakite", "verdelite", "zircon", "ambre", "azurite", "chrysoprase", "kyanite", "magnésite", "péridot", "prehnite", "sardonyx"]
        self.dic3 = ["amoureux", "romantique", "tendresse", "passionné", "attirance", "flamme", "séduction", "baiser", "embrasser", "coeur", "câlin", "douceur", "étreinte", "féminité", "masculinité", "amant", "conquête", "déclaration", "fidélité", "fusion", "harmonie", "idylle", "intimité", "jalousie", "libertin", "miel", "obsession", "plaisir", "protection", "quête", "relation", "sentiment", "sensualité", "serment", "solitude", "soupirant", "séparation", "tendre", "union", "vouloir", "amoureuse", "courtoisie", "fusionnel", "passionnel", "foudre", "dévotion", "époux", "fidèle", "fusionner", "inconditionnel"]

        #Bouton pour générer un nom aléatoire
        self.btn_randoname = QPushButton("Générer un nom aléatoire")
        self.btn_randoname.clicked.connect(self.generate_random_name)

        #zone de texte pour afficher les noms générés
        self.txt_you_get = QTextEdit(self)
        self.txt_you_get.setReadOnly(True)
        self.txt_you_get.setPlaceholderText("Nom généré aléatoirement (zoom possible)")
        self.txt_you_get.setMaximumHeight(40)

        #Bouton pour renommer toute les images aléatoirement
        self.btn_randonaming = QPushButton("Renommer TOUT aléatoirement")
        self.btn_randonaming.clicked.connect(self.rename_images)


        #Ajout des widgets dans une grille (un layout)
        v_lay_randonamers = QVBoxLayout()

        v_lay_randonamers.addWidget(self.btn_randoname)
        v_lay_randonamers.addWidget(self.txt_you_get)
        v_lay_randonamers.addWidget(self.btn_randonaming)

        #On integre le layout vertical dans le layout principal
        self.setLayout(v_lay_randonamers)

        self.show()




#Fonction pour générer un nom aléatoirement et l'afficher dans le label "you_get"
    def generate_random_name(self):
        how_much = random.randint(1, 3)
        words = [random.choice(dic) for dic in [self.dic1, self.dic2, self.dic3]][:how_much]
        new_name = ' '.join(words)

        self.txt_you_get.setPlainText(new_name)


        
#Fonction pour sélectionner le dossier
    def select_folder(self):
        folder = QFileDialog.getExistingDirectory(self, "Sélectionner un dossier")
        return folder

#Fonction pour renommer les images contenues dans les sous_dossiers et dossiers du dossier sélectionné
    def rename_images(self):

        #On selectionne le dossier
        folder = self.select_folder()

        if not folder:
            return

        #On parcourt l'ensemble des dossiers présents dans le répertoire sélectionné
        for subdir, _, _ in os.walk(folder):

            #On récupère une liste des images présentes
            da_images = [file for file in os.listdir(subdir) if any(file.lower().endswith(ext) for ext in ['.bmp', '.dib', '.dcx', '.gif', '.im', '.jpg', '.jpe', '.jpeg', '.pcd', '.pcx', '.png', '.pbm', '.pgm', '.ppm', '.psd', '.tif', '.tiff', '.xbm', '.xpm', '.pdf'])]

            for file in da_images:
                #On sépare l'extension du nom
                filename, extension = os.path.splitext(file)

                #On génère un nouveau nom
                how_much = random.randint(1, 3) #On choisi entre un et 3 mots
                words = [random.choice(dic) for dic in [self.dic1 ,self.dic2, self.dic3]][:how_much] #On récupère les mots aléatoirement dans les dictionnaires
                new_name = ' '.join(words) + extension #On ajoute les mots séparés par des espaces + l'extension 

                #On créer une boucle pour savoir si des images du meme noms que celles que l'on va renommer sont présents dans le dossier sélectionné (incluant les sous_dossiers et dossiers..)
                while os.path.exists(os.path.join(subdir, new_name)):
                    how_much = random.randint(1, 3)
                    words = [random.choice(dic) for dic in [self.dic1, self.dic2, self.dic3]][:how_much]
                    new_name = ' '.join(words) + extension

                #PEnfin on renomme les images
                os.rename(os.path.join(subdir,file), os.path.join(subdir,new_name))

#____ ____ ____ _  _ ____ ___    _    ____ _  _ _  _ ____ _  _
#|__/ |  | |    |_/  |___  |     |    |__| |  | |\ | |    |__|
#|  \ |__| |___ | \_ |___  |     |___ |  | |__| | \| |___ |  |
                
#ENDING | https://www.youtube.com/watch?v=CgZVrvQZB6U&ab_channel=SECRETGUEST :3

if __name__ == '__main__':
    app = QApplication([])
    window = randonaming()
    app.exec_()
